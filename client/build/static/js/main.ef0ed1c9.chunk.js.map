{"version":3,"sources":["Header.js","App.js","Footer.js","index.js"],"names":["Header","className","App","props","state","isSubmit","data","originData","newName","newText","initialGetData","handleChangeName","bind","handleChangeText","fetch","then","response","json","temp","setState","sendData","name","this","text","param","method","headers","body","JSON","stringify","res","console","log","catch","err","error","tempID","e","preventDefault","id","getData","event","target","value","addComment","addData","newMessage","onSubmit","handleSubmit","type","style","fontSize","textDecoration","onChange","backgroundColor","map","key","listStyle","href","onClick","deleteData","Component","Footer","ReactDOM","render","margin","padding","document","getElementById"],"mappings":"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","file":"static/js/main.ef0ed1c9.chunk.js","sourcesContent":["import React from 'react';\r\nimport \"./Header.css\"\r\n\r\nconst Header = () =>  {\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <h1>掲示板APP</h1>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;","import React, { Component } from 'react';\nimport \"./App.css\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isSubmit: false,\n      data: [],\n      originData: [],\n      newName: \"匿名\",\n      newText: \" \",\n    }\n    this.initialGetData();\n    this.handleChangeName = this.handleChangeName.bind(this);\n    this.handleChangeText = this.handleChangeText.bind(this);\n  }\n\n  initialGetData() {\n    fetch('/data')\n      .then(response => response.json())\n      .then(temp => {\n        this.setState({\n          data: temp,\n          originData: temp\n        });\n      });\n  }\n\n  getData() {\n    fetch('/data')\n      .then(response => response.json())\n      .then(temp => {\n        this.setState({\n          data: temp\n        });\n      });\n  }\n\n  addData() {\n    const sendData = {name: this.state.newName, text: this.state.newText};\n    const param  = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json; charset=utf-8\"\n      },\n    \n      // リクエストボディ\n      body: JSON.stringify(sendData)\n    };\n    \n    fetch('/data/create', param)\n      .then((res) => res.text())\n      .then((data) => console.log( data ))\n      .catch((err) => console.error( err ));\n  }\n\n  deleteData(tempID, e) {\n    e.preventDefault();\n    const sendData = {id: tempID};\n    const param  = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json; charset=utf-8\"\n      },\n      body: JSON.stringify(sendData)\n    };\n    \n    fetch('/data/delete', param)\n      .then((res) => res.text())\n      .then((data) => console.log( data ))\n      .catch((err) => console.error( err ));\n    \n    this.getData();\n  }\n\n  handleChangeName(event) {\n    this.setState({newName: event.target.value});\n  }\n\n  handleChangeText(event) {\n    this.setState({newText: event.target.value});\n  }\n\n  handleSubmit() {\n    if(this.state.isSubmit) {\n      this.setState({isSubmit: false});\n    } else {\n      this.addComment();\n      this.setState({isSubmit: true});\n    }\n    //console.log(this.state.isSubmit);\n    return false;\n  }\n\n  addComment() {\n    this.addData();\n    this.getData();\n  }\n\n  render() {\n\n    let newMessage;\n    if (this.state.isSubmit) {\n      newMessage = (\n        <div className=\"newMes\">\n          <p>送信完了!!</p>\n          <form onSubmit={()=>this.handleSubmit()}>\n            <input type=\"submit\" value=\"OK\" />\n          </form>\n        </div>\n      );\n    } else {\n      newMessage = (\n        <div className=\"newMes\">\n          <form onSubmit={()=>this.handleSubmit()}>\n            <p style={{fontSize: \"20px\", textDecoration: \"underline\"}}>新規コメント</p>\n            <p>名前</p>\n            <input type=\"text\" onChange={this.handleChangeName}/>\n            <p>コメント内容</p>\n            <div className=\"newT\">\n              <textarea onChange={this.handleChangeText} />\n              <input type=\"submit\" value=\"送信\" />\n            </div>\n            \n          </form>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"App\">\n        <h1>自由に話そう</h1>\n        <hr style={{backgroundColor: \"black\"}}></hr>\n        <ul className=\"showCom\">\n        \n        {this.state.data.map((temp) => \n          <li key={temp.id} style={{listStyle: \"none\"}}>\n            <div className=\"showName\">\n              <p>{temp.name}</p>\n            </div>\n            <div className=\"textFlex\">\n              <p>{temp.text}</p>\n              <a href=\"#\" onClick={(e)=>this.deleteData(temp.id, e)}>削除</a>\n            </div>\n            \n            <hr></hr>\n          </li>\n        )}\n        <hr className=\"bottomLine\"></hr>\n        </ul>\n          \n      <div>\n        {newMessage}\n      </div>\n        \n      </div>\n    );\n  }\n}\nexport default App;","import React from 'react';\r\nimport \"./Footer.css\";\r\n\r\nconst Footer = () => {\r\n\r\n  return (\r\n    <div className=\"footer\">\r\n      <p>本サイトの制作者 : 理系大学院に通う22歳</p>\r\n      <span>今まで制作したサイトは\"</span>\r\n      <a href=\"https://shinnosuke7031.github.io/react-test/\">こちら</a>\r\n      <span>\"</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Header from './Header';\nimport App from './App';\nimport Footer from './Footer';\n\nReactDOM.render(\n  <div style={{margin: 0, padding: 0}}>\n    <Header />\n    <App />\n    <Footer />\n  </div>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}